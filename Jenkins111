node{
    def mavenHome= tool name: "maven3.8.5"

    buildName 'Dev - ${BUILD_NUMBER}'
    buildDescription 'Pipeline Script-Scriptedway'
    echo " the Node name is : ${env.NODE_NAME} "
    echo " the Job name is : ${env.JOB_NAME} "
    echo " the Build number is : ${env.BUILD_NUMBER} "

    stage('checkoutcode'){
        git 'https://github.com/ValipiVenkatesh/maven-web-application.git'
    }
    stage("build stage"){
        sh  "$mavenHome/bin/mvn clean package"
        
    }
    stage("SonarQube Stage"){
        sh "$mavenHome/bin/mvn sonar:sonar"
    }
    stage("ArtifactIntoNexus"){
        sh "$mavenHome/bin/mvn deploy"
    }
   
}
